# CM3110 Coursework Greg Smith (2004500) #
This repository contains the documentation and Android Studio project for TriviaApp, A coursework submission for CM3110 Mobile App Development.

# TriviaGame #

## The App Description ##

### Developer  - App developed by Greg Smith (2004500)

### Promo text  - TriviaGame is a game created to both relieve bordem and increase general knowledge in a fun way.
 
### Description ### 
- A page to be used as the games main menu, consisting of options to: begin a game (takes you to the game page), set username, or take your to the leaderboard page.
- A page to view all your previous saved scores (RecyclerView).
- A page to answer questions and improve your knowledge, the game page. Using the opentdb api to generate questions and answers.
- A page to see your score after a game cycle 
- Save scores locally on the Device with Room Database
- Ability to share your score with others via SMS
- Ability to delete all saved scores from database/local storage
- ***Internet Access Required to play game*** No Internet Access Required to View previous scores
- Questions and Answers pulled from OpenTDB API using Volley to make request
- ***Send SMS Permission Required***


## App Design ##
### About Pages ###
All pages of the Application are implemented as Fragments hosted on the activity, MainActivity, navigation between them is implemented a Navigation Component, triviagame_navigation.xml. All screens are fully functional in both portrait and landscape orientations. When the app start it begins on the home page/ landing page, GameStartFragment.

- GameStartFragment / Home page/ Landing page
  -  ![Home Page](https://github.com/WorkAtRGU/cm3110-coursework-GregSmith31/blob/master/Screenshots/TriviaGame_HomePage_GregSmith2004500.png)
  - Initial screen when app launched. ConstraintLayout used to position items on page.
  - Uses an EditText field to get user input to set the users username for if they wish to play the game.
  - Buttons to get user input on which page to go to next, (Play button only clickable when text in EditText field)
- GamePlayFragment / Game page / Quiz page
  - ![Game Page](https://github.com/WorkAtRGU/cm3110-coursework-GregSmith31/blob/master/Screenshots/TriviaGame_PlayGamePage_GregSmith2004500.png)
  - Uses ConstraintLayout to organise views on page.
  - If no internet connection detected (Volley unable to make http request) an error message is displayed to the user and a button appears in which they can try load the data in again (make http request via Volley) when clicked.
  - Screen to display questions and answers to user along with their game score, question number and username
  - Uses TextView to display question, game score, question number and username
  - Uses Buttons to show answers
  - On button clicked the correct answer is highlighted by brief change of button colour and score updated (increasing if user gets answer correct)
  - After short period of time a new set of questions and answers are displayed to the user
  - Once user has answererd 10 questions (Clicked 10 buttons) username is stored in Room database for game and the End Game page is loaded and user score. 
- GameEndFragment / End Game Page
  - ![End Game Page](https://github.com/WorkAtRGU/cm3110-coursework-GregSmith31/blob/master/Screenshots/TriviaGame_EndGamePage_GregSmith2004500.png)
  - Uses ConstraintLayout to organise views on page.
  - TextViews displaying output message to user about their score
  - Button to navigate the user back to Home page/GameStartFragment
  - Button to play game again with same username, navigates user to Game page/GamePlayFragment
  - Button to share score as SMS
- HighScoreFragment / High-Score page
  - ![High Score Page](https://github.com/WorkAtRGU/cm3110-coursework-GregSmith31/blob/master/Screenshots/TriviaGame_HighScorePage_GregSmith2004500.png)
  - Screen to display all user scores stored in database
  - Uses ConstraintLayout to organise views on page.
  - Uses a RecyclerView with custom layout file for each item to display each of the scores and user who got that score
  - A Button to Delete all user scores, deletes all entries in the RoomDatabase table in-turn emptying RecyclerView
### Navigation ###
![Navigation Graph](https://github.com/WorkAtRGU/cm3110-coursework-GregSmith31/blob/master/Screenshots/TriviaGame_NavigationGraph_GregSmith2004500.png)
- Based on navigation graph
- Bottom Navigation bar to provide navigation to Home page from any other fragment/page
- Other Navigation via buttons
- Navigation to End Game page from Game page is done when a game is complete (10 answer buttons clicked)
### Lifecycle Events ###
- Uses lifecycle listeneres to store game state variable and restores onViewCreated callback ensuring game progress is not lost.
- Uses lifecycle aware views to make sure UI stays consisitent.
### Data Stored in Room Database ###
 - Data stored in a single RoomSQL database table, with columns:
   - uid (Primary key)
   - username
   - userScore
### Web Service ###
- Uses OpenTDB Api via Volley Api to recieve questions and answers for the quiz in JSON format
   - Response is cycled through the array with key "results"
   - Each string with key "question" within the array is stored in a ArrayList
   - Each string with key "correct_answer" within the array is stored in a ArrayList
   - Each item within each array with key "incorrect_answers" within the array is stored in a ArrayList
### Mobile Specific Functionalities ###
- Share button using explict intnets so user can share their score via SMS





## Testing ##
| Functionality Being Tested                                                                            | Actions Taken                                                                                                                                                                                         | Expected Output                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Actual Output                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Compatibility on a large device(tablet)                                                               | App run on tablet device, Nexus 10 via emulator (Running Android API 33)                                                                                                                              | App fully functional on a larger resolution, no loss in aesthetics  or app functionality.                                                                                                                                                                                                                                                                                                                                                                                                            | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Compatibility on a smaller device (Screen size smaller than Pixel 2XL)                                | App run on Nexus One via  emulator (Screen resolution 480px X 800px much smaller than original target device Pixel 2XL)                                                                               | App fully functional on a smaller resolution, no loss in aesthetics or app functionality.                                                                                                                                                                                                                                                                                                                                                                                                            | Partial loss in  some some pages, the fourth answer button in the game play fragment and  the share button are visible and functional but content on them  is not readable as screen cuts off before the text within them. Text occasionally lost from textView on game play page too as screen is  not wide enough. Although an issue a  fix was not implemented as there are  very few devices with this screen  resolution and size. |
| Compatibility of app when device  rotated.                                                            | Run the app on the android studio emulator and rotate the device observing in both portrait and  landscape.                                                                                           | All pages are compatible and usable in both landscape and portrait  orientations.                                                                                                                                                                                                                                                                                                                                                                                                                    | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Compatibility of app on a low, outdated android API level.                                            | Run the app on a device running  Android API 22 (Lollipop), lowest available on Android Studio.                                                                                                       | App should be fully compatible and user should not notice anything different than hen using a higher API level.                                                                                                                                                                                                                                                                                                                                                                                      | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Validate user input of text entry EditText view on home page.                                         | Try progress to play game page from home page when space character  entered or no character is entered  into EditText on home page.                                                                   | "Play" button should remain unclickable and user should not be able to navigate to play game page.                                                                                                                                                                                                                                                                                                                                                                                                   | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test app functionality when valid user input in EditText view on home page.                           | Try progress to play game page from home page when a non-space character is entered into EditText on home page.                                                                                       | "Play" button should become clickable  when valid input entered and therefore the user should be able to navigate to play game page.                                                                                                                                                                                                                                                                                                                                                                 | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test functionality of "Home" button on the  bottom navigation bar.                                    | "Home" button in bottom navigation clicked from all pages.                                                                                                                                            | User should be navigated to home page from any page except the home page itself (in which nothing should happen on button clicked)                                                                                                                                                                                                                                                                                                                                                                   | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test functionality of answer buttons in the  play game page.                                          | Click the buttons in play game page.                                                                                                                                                                  | When one of the answer buttons is clicked correct answer button of that question should briefly change background colour to green before a new question is  displayed in the Question TextView and and new set of answers displayed  in each answer button (answer button  should not be clickable when each set of questions and answers are loading). This should occur until the user has clicked the answer buttons a total of 10 times after which they should be navigated to end game page.   | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test functionality and performance of app when device in Airplane mode (no internet connection).      | Use app in Airplane mode (no internet connection) and observe performance and functionality.                                                                                                          | User should be able to navigate to both play game page and high score page. In  play game page an error message should appear explaining play game is only  functional when device has internet  connection to user and a button for them to try again. High score page should remain fully functional.                                                                                                                                                                                              | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Storing user score after a gameplay cycle (10  questions and answers) into database.                  | Use debugger, play through a game cycle, once in end game page use Database Inspector in Android Studio, check database correctly updated.                                                            | Database includes new entry with users'  username and score from game just played.                                                                                                                                                                                                                                                                                                                                                                                                                   | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test functionality of buttons in end game page.                                                       | When in end game page test each of the buttons.                                                                                                                                                       | When "Home" button clicked user should be navigated to home page. When "Play Again" button clicked user  should be navigated to game play page  where a new game should begin (providing  they still have internet connection) with the same username as last game cycle. When "Share button" clicked an option to take the user to a SMS messaging app  should appear.                                                                                                                              | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| The functionality of "Delete All Scores" button in high score page. (When data in the database)       | Use debugger, navigate to high score page and click on "Delete All Scores" button, once clicked use Database  Inspector to identify if Database has correctly been updated.                           | When button clicked RecyclerView on page should empty and all entries in the  database that were previously the should  have been deleted.                                                                                                                                                                                                                                                                                                                                                           | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test "Share" button in End Game Page for mobile  specific feature.                                    | Click "Share" button in End Game page and observe for correct output using Explicit Intents.                                                                                                          | When button clicked user should be taken to a SMS messaging app of their choice, where an auto generated message should be typed already for a recipient of their choice.                                                                                                                                                                                                                                                                                                                            | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Test Game progress is kept when screen altered to check fragment maintains state on life-cycle event. | Run the app, navigate to play game page, click an answer button to build game progress, rotate the orientation of the screen, check the details of the  fragment items has not changed on  rotation.  | The play game page should keep users  progress (score, question, question number) on rotation of the device (or any other  life cycle event) and user can continue  from where they were prior to screen rotation.                                                                                                                                                                                                                                                                                   | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| Check readability of app when in dark theme or  inverted colours turned on.                           | Turn on dark theme and run through  the app checking every page. Turn on inverted colours and run  through app checking every page.                                                                   | App should maintain readability  throughout.                                                                                                                                                                                                                                                                                                                                                                                                                                                         | As expected.                                                                                                                                                                                                                                                                                                                                                                                                                            |

## Reflective Statement ##
Over the duration of this project, I have enjoyed using Android Studio as a software development environment, although it did come with some tedious issues. Whilst testing/simulating the application I had created it would crash or stop responding quite often. Furthermore, the performance of the software frequently fluctuated whilst simulating a device which made development very frustrating at times. Outside of Android Studio was very user-friendly and easy to develop a user interface for the application with very minimal XML code having to be written by myself. At this point of user interface creation and throughout development of my application it became evermore apparent how vital having good and well thought out wireframes are regarding app development. This was something I was very glad I spent a good amount of time on as it made implementing the theory behind my application a lot easier. My application itself turned out very well in terms of what I had originally envisaged for it and every step of its development I found pleasant. It was very satisfying to have such a visual output during development making it much easier to be inspired on the task. If I were to further develop this application the next steps would be to improve the overall aesthetics of the application. Another point of development would be within the high scores page to sort the recycler view so that the user scores were in descending order from top to bottom. On reflection of the project, I am very happy with the Mobile Application I have developed over the coursework and the standard of it. 

Word Count: 1064
